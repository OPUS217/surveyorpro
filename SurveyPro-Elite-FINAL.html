"><div><h3 style="font-weight:900;font-size:1rem;color:#667eea;">${sv.projectName}</h3><p style="font-size:.78rem;color:#64748b;">${sv.location} Â· ${sv.surveyType}</p></div><span style="background:linear-gradient(90deg,#667eea,#10b981);color:#fff;padding:4px 12px;border-radius:18px;font-size:.72rem;font-weight:700;font-family:monospace;">${sv.verificationCode}</span></div><div class="g4" style="margin-bottom:12px;font-size:.78rem;text-align:center;"><div style="background:#eff6ff;border-radius:9px;padding:10px;"><div style="color:#64748b;">Ha</div><div style="font-weight:900;color:#1e40af;">${sv.hectares.toFixed(4)}</div></div><div style="background:#f0fdf4;border-radius:9px;padding:10px;"><div style="color:#64748b;">Acres</div><div style="font-weight:900;color:#10b981;">${sv.acres.toFixed(4)}</div></div><div style="background:#faf5ff;border-radius:9px;padding:10px;"><div style="color:#64748b;">Points</div><div style="font-weight:900;color:#7c3aed;">${sv.points}</div></div><div style="background:#fffbeb;border-radius:9px;padding:10px;"><div style="color:#64748b;">Plots</div><div style="font-weight:900;color:#d97706;">${sv.plots.toFixed(1)}</div></div></div><div style="font-size:.78rem;color:#64748b;margin-bottom:12px;">${sv.clientName} Â· ${sv.clientPhone} Â· ${new Date(sv.savedAt).toLocaleDateString('en-NG')}</div><div style="display:flex;gap:8px;"><button class="btn btn-primary" style="flex:1;padding:10px;font-size:.8rem;" onclick="shareSv(${i})">ğŸ“± Share</button><button class="btn btn-green" style="flex:1;padding:10px;font-size:.8rem;" onclick="showTab('verify')">ğŸ”’ Verify</button><button class="btn btn-red" style="padding:10px 13px;font-size:.8rem;" onclick="delSv(${i})">ğŸ—‘ï¸</button></div></div>`;}).join('');}
function shareSv(i){const sv=surveys[i];const txt=`ğŸ“Š Survey Report â€” ${sv.projectName}\nLocation: ${sv.location}\nClient: ${sv.clientName}\nArea: ${sv.hectares.toFixed(4)} ha (${sv.acres.toFixed(4)} ac)\nPerimeter: ${sv.perimeter.toFixed(2)} m\nVerification: ${sv.verificationCode}\nDate: ${new Date(sv.savedAt).toLocaleDateString('en-NG')}\n\nğŸ¯ SurveyPro Elite Â· ${CFG.email}`;if(navigator.share)navigator.share({title:`Survey â€” ${sv.projectName}`,text:txt});else{navigator.clipboard.writeText(txt);toast('Copied to clipboard!','success');}}
function delSv(i){if(!confirm('Delete this survey? Cannot be undone.'))return;surveys.splice(i,1);saveData();refreshHistory();toast('Survey deleted');}
function toast(msg,type='info'){const t=qi('tst');t.textContent=({'success':'âœ… ','warning':'âš ï¸ ','error':'âŒ ','info':'ğŸ’¡ '}[type]||'')+msg;t.className='toast on';clearTimeout(t._t);t._t=setTimeout(()=>t.classList.remove('on'),3800);}
function showBanner(msg,type='success'){const b=qi('bnr'),bi=qi('bni'),bm=qi('bnrMsg');b.className=`banner on ${type==='success'?'banner-s':'banner-e'}`;bi.className=(type==='success'?'banner-s':'banner-e')+' text-white px-5 py-3 flex items-center justify-between font-semibold';bm.textContent=msg;clearTimeout(b._t);b._t=setTimeout(closeBanner,7500);}
function closeBanner(){qi('bnr').classList.remove('on');}
function openModal(h){qi('mdlc').innerHTML=h;qi('mdl').classList.add('on');}
function closeModal(){qi('mdl').classList.remove('on');}
function tglDark(){document.body.style.filter=dark?'':'invert(0.92) hue-rotate(180deg)';dark=!dark;}
function setLang(l){toast(`Language: ${l} â€” multilingual expansion coming soon`);}
qi('mdl').addEventListener('click',e=>{if(e.target===qi('mdl'))closeModal();});
</script>
</body>
</html>
